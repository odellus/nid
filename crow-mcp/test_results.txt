
============================================================
CROW TERMINAL MCP TOOL - PERSISTENCE TESTS
============================================================

============================================================
TEST 1: Basic Command
============================================================
Result:
echo 'Hello from terminal!'
[?2004lHello from terminal!
[?2004h]0;thomas@coast-after-2: ~/src/projects/mcp-testing/crow-mcp[01;32mthomas@coast-after-2[00m:[01;34m~/src/projects/mcp-testing/crow-mcp[00m$ 

The command is still running. You can:
- Send empty command '' to continue waiting
- Send "C-c" to interrupt
- Use a longer timeout parameter

[Current working directory: /home/thomas/src/projects/mcp-testing/crow-mcp]
[Process still running (soft timeout)]

============================================================
TEST 2: Working Directory Persistence
============================================================
Before cd:
pwd
[?2004l/home/thomas/src/projects/mcp-testing/crow-mcp
[?2004h]0;thomas@coast-after-2: ~/src/projects/mcp-testing/crow-mcp[01;32mthomas@coast-after-2[00m:[01;34m~/src/projects/mcp-testing/crow-mcp[00m$ 

The command is still running. You can:
- Send empty command '' to continue waiting
- Send "C-c" to interrupt
- Use a longer timeout parameter

[Current working directory: /home/thomas/src/projects/mcp-testing/crow-mcp]
[Process still running (soft timeout)]

cd /tmp:
cd /tmp
[?2004l[?2004h]0;thomas@coast-after-2: /tmp[01;32mthomas@coast-after-2[00m:[01;34m/tmp[00m$ 

The command is still running. You can:
- Send empty command '' to continue waiting
- Send "C-c" to interrupt
- Use a longer timeout parameter

[Current working directory: /home/thomas/src/projects/mcp-testing/crow-mcp]
[Process still running (soft timeout)]

After cd:
pwd
[?2004l/tmp
[?2004h]0;thomas@coast-after-2: /tmp[01;32mthomas@coast-after-2[00m:[01;34m/tmp[00m$ 

The command is still running. You can:
- Send empty command '' to continue waiting
- Send "C-c" to interrupt
- Use a longer timeout parameter

[Current working directory: /home/thomas/src/projects/mcp-testing/crow-mcp]
[Process still running (soft timeout)]

============================================================
TEST 3: Environment Variable Persistence
============================================================
Set env var:
export TEST_VAR='hello persistence!'
[?2004l[?2004h]0;thomas@coast-after-2: /tmp[01;32mthomas@coast-after-2[00m:[01;34m/tmp[00m$ 

The command is still running. You can:
- Send empty command '' to continue waiting
- Send "C-c" to interrupt
- Use a longer timeout parameter

[Current working directory: /home/thomas/src/projects/mcp-testing/crow-mcp]
[Process still running (soft timeout)]

Read env var:
echo $TEST_VAR
[?2004lhello persistence!
[?2004h]0;thomas@coast-after-2: /tmp[01;32mthomas@coast-after-2[00m:[01;34m/tmp[00m$ 

The command is still running. You can:
- Send empty command '' to continue waiting
- Send "C-c" to interrupt
- Use a longer timeout parameter

[Current working directory: /home/thomas/src/projects/mcp-testing/crow-mcp]
[Process still running (soft timeout)]

============================================================
TEST 4: Virtual Environment Persistence
============================================================
Before venv:
which python
[?2004l/home/thomas/src/projects/mcp-testing/crow-mcp/.venv/bin/python
[?2004h]0;thomas@coast-after-2: /tmp[01;32mthomas@coast-after-2[00m:[01;34m/tmp[00m$ 

The command is still running. You can:
- Send empty command '' to continue waiting
- Send "C-c" to interrupt
- Use a longer timeout parameter

[Current working directory: /home/thomas/src/projects/mcp-testing/crow-mcp]
[Process still running (soft timeout)]

Activate venv:
source .venv/bin/activate
[?2004lbash: .venv/bin/activate: No such file or directory
[?2004h]0;thomas@coast-after-2: /tmp[01;32mthomas@coast-after-2[00m:[01;34m/tmp[00m$ 

The command is still running. You can:
- Send empty command '' to continue waiting
- Send "C-c" to interrupt
- Use a longer timeout parameter

[Current working directory: /home/thomas/src/projects/mcp-testing/crow-mcp]
[Process still running (soft timeout)]

After venv:
which python
[?2004l/home/thomas/src/projects/mcp-testing/crow-mcp/.venv/bin/python
[?2004h]0;thomas@coast-after-2: /tmp[01;32mthomas@coast-after-2[00m:[01;34m/tmp[00m$ 

The command is still running. You can:
- Send empty command '' to continue waiting
- Send "C-c" to interrupt
- Use a longer timeout parameter

[Current working directory: /home/thomas/src/projects/mcp-testing/crow-mcp]
[Process still running (soft timeout)]

============================================================
TEST 5: Terminal Reset
============================================================
Set env var:
export RESET_TEST='should disappear'
[?2004l[?2004h]0;thomas@coast-after-2: /tmp[01;32mthomas@coast-after-2[00m:[01;34m/tmp[00m$ 

The command is still running. You can:
- Send empty command '' to continue waiting
- Send "C-c" to interrupt
- Use a longer timeout parameter

[Current working directory: /home/thomas/src/projects/mcp-testing/crow-mcp]
[Process still running (soft timeout)]

Reset:
Terminal reset successfully. All previous state lost.

After reset:
echo $RESET_TEST
[?2004l
[?2004h]0;thomas@coast-after-2: ~/src/projects/mcp-testing/crow-mcp[01;32mthomas@coast-after-2[00m:[01;34m~/src/projects/mcp-testing/crow-mcp[00m$ 

The command is still running. You can:
- Send empty command '' to continue waiting
- Send "C-c" to interrupt
- Use a longer timeout parameter

[Current working directory: /home/thomas/src/projects/mcp-testing/crow-mcp]
[Process still running (soft timeout)]


============================================================
âœ… ALL TESTS PASSED!
============================================================

